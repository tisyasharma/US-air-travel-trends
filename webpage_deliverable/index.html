<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Major Flight Trends Over the Past 25 Years</title>
  <meta name="description" content="DS4200 final project — U.S. flight trends, disruptions, and recovery (1999-2024).">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />

  <!-- AOS Animate on Scroll -->
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />

  <!-- D3 -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="https://cdn.jsdelivr.net/npm/topojson-client@3"></script>
</head>

<body>
  <!-- Navigation Bar -->
  <nav class="nav">
    <div class="nav__inner">
      <a href="#top" class="brand">Flight Trends</a>
      <div class="nav__links">
        <a href="#overview">Overview</a>
        <a href="#routes">Routes Map</a>
        <a href="#methods">Methods</a>
      </div>
    <button id="themeToggle" class="btn btn--ghost">Dark</button>
    </div>
  </nav>

  <!-- Title area -->
  <header id="top" class="hero">
    <div class="container">
      <p class="kicker" data-aos="fade-up">DS4200 Final Project - Tisya Sharma, Tim Matten, John Dunay</p>
      <h1 data-aos="fade-up">Major Flight Trends Over the Past 25 Years</h1>
      <p class="lede" data-aos="fade-up">
        How economic shocks and global events shaped U.S. air travel from 1999–2024.
        This page hosts an interactive routes map to explore top destinations by origin, year, and month.
      </p>
    </div>
  </header>

  <!-- Overview of project -->
  <section id="overview" class="section">
    <div class="container narrow" data-aos="fade-up">
      <p class="kicker">Overview</p>
      <h2>What this analysis shows</h2>
      <p>
        We analyze monthly U.S. air travel metrics like passengers, number of flights, seat availability,
        and load factor to uncover long‑run trends, event‑driven changes, and seasonal patterns. This website is able to 
        dynamically filter results as well. 
      </p>
    </div>
  </section>

  <!-- ROUTES MAP -->
  <section id="routes" class="section section--alt">
    <div class="container">
      <div class="section__head" data-aos="fade-up">
        <div>
          <p class="kicker">Routes</p>
          <h3>Passenger Flows by Origin</h3>
          <p class="muted">Interactive U.S. route map showing the top destinations for a chosen origin, year, and month. Route lines are sized by volume; the top 3 routes are highlighted.</p>
          <div class="map-legend">
            <span class="legend-item"><span class="dot" style="--c:var(--accent1)"></span>Top 3 routes</span>
            <span class="legend-item"><span class="dot" style="--c:var(--route)"></span>Other top routes</span>
          </div>
        </div>
        <div class="map-controls">
          <button class="btn btn--ghost" onclick="downloadPNG('flowMap')">Save PNG</button>
        </div>
      </div>

      <div id="flowMap" class="viz-card viz-card--tall" data-aos="fade-up">
        <div class="map-layout">
          <div class="map-filters">
            <h4>Filters</h4>
            <label>Origin Airport
              <select id="originSelect" class="select"></select>
            </label>
            <label>Year
              <select id="mapYearSelect" class="select"></select>
            </label>
            <label>Month
              <select id="mapMonthSelect" class="select">
                <option value="0" selected>All months</option>
                <option value="1">January</option>
                <option value="2">February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
              </select>
            </label>
            <label>Sort by
              <select id="mapSort" class="select">
                <option value="PASSENGERS" selected>Passengers</option>
                <option value="DEPARTURES">Flights</option>
              </select>
            </label>
            <label>Top destinations
              <input type="range" id="mapTopSlider" min="1" max="25" step="1" value="15">
              <div class="range-meta"><span>1</span><span id="mapTopVal">15</span></div>
            </label>
            <div class="map-zoom">
              <button id="zoomReset" class="btn btn--ghost">Reset</button>
              <input type="range" id="zoomSlider" min="1" max="5" value="1" step="0.1">
              <span id="zoomVal">1.0x</span>
            </div>
          </div>
          <div class="map-canvas" id="flowMapCanvas">
          </div>
        </div>
      </div>
      <div class="map-panels" data-aos="fade-up">
        <div class="card" id="mapSummary">
          <h4>Selection</h4>
          <p class="muted">Totals will appear here after data loads.</p>
        </div>
        <div class="card" id="carrierList">
          <h4>Carriers Serving Origin</h4>
          <p class="muted">Top carriers by passengers for this origin.</p>
        </div>
      </div>
      <p class="caption">Figure 1. Top destinations for the selected month (summed if “All months”).</p>
    </div>
  </section>

  <!-- TRENDS -->
  <!-- (other visualizations removed) -->
  <!-- Methods -->
  <section id="methods" class="section section--alt">
    <div class="container grid-two" data-aos="fade-up">
      <div>
        <p class="kicker">Methods</p>
        <h4>Preprocessing</h4>
        <ul class="list">
          <li>ADD DETAILS ABOUT PREPROCESSING LATER</li>
        </ul>
      </div>
      <div>
        <h4>Sources & Credits</h4>
        <ul class="list">
          <li>U.S. Bureau of Transportation Statistics (BTS) T-100</li>
          <li>Visualization: D3.js.</li>
          <li>Design: Custom CSS.</li>
        </ul>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      © 2025 DS4200 Group 35 · <span class="accent2">Northeastern University</span>
    </div>
  </footer>

  <!-- Back to top -->
  <button id="toTop" class="to-top">Top</button>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script src="main.js"></script>
</body>
</html>
